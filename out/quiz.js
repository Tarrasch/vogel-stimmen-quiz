!function(){"use strict";const e=[{queryName:"Parus Major",germanName:"Kohlmeise",searchParamCode:"km"},{queryName:"Cyanistes Caeruleus",germanName:"Blaumeise",searchParamCode:"bm"},{queryName:"Periparus ater",germanName:"Tannenmeise",searchParamCode:"tm"}];function n(n){for(let t of e)if(n===t.searchParamCode)return t}function t(e){return{soundFileUrl:`https:${e.file}`,recorderName:e.rec,englishName:e.en,genericName:e.gen,scientificName:e.sp}}function r(e){return Math.floor(Math.random()*e)}console.log("Got here!"),document.addEventListener("DOMContentLoaded",function(){let a=function(t){const r=t.get("species");if(!r)return e;let a=[];for(let e of r.split(",")){const t=n(e);null!=t&&a.push(t)}return a}(new URLSearchParams(document.location.search.substring(1))),o=(s=a)[r(s.length)];var s,c,u;fetch((u={birdQueryName:o.queryName},c=`${u.birdQueryName} area:europe q:A type:song`,`https://jsonp.afeld.me/?url=${`https://www.xeno-canto.org/api/2/recordings?query=${c}`}`)).then(e=>e.json()).then(e=>{let n=function(e){return e.recordings[r(e.recordings.length)]}(function(e){return{numRecordings:parseInt(e.numRecordings),page:e.page,numPages:e.numPages,recordings:e.recordings.map(t)}}(e));!function(e,n,t){let r=document.getElementById("audio");r.src=t.soundFileUrl,r.play();let a=document.getElementById("choices");for(let t of n){let n=t.queryName===e.queryName,r=document.createElement("button");r.textContent=t.germanName,r.addEventListener("click",e=>{document.getElementById("congratulation-p").textContent=`${t.germanName} is ${n?"the":"NOT"} correct answer`}),a.appendChild(r)}}(o,a,n)})})}();
